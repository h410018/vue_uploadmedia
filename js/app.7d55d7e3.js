(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],u=0,f=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue_uploadmedia/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0725":function(t,e,a){},"1d35":function(t,e,a){},"33da":function(t,e,a){t.exports=a.p+"img/bg-01.57017de0.jpg"},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return a(e)}function s(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o={name:"App"},r=o,c=(a("034f"),a("2877")),l=Object(c["a"])(r,n,s,!1,null,null,null),d=l.exports,u=a("8c4f"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"blockarea"}),t._m(0),i("div",{staticClass:"container-contact100"},[i("div",{staticClass:"contact100-map",attrs:{id:"google_map","data-map-x":"40.722047","data-map-y":"-73.986422","data-pin":"images/icons/map-marker.png","data-scrollwhell":"0","data-draggable":"1"}}),i("div",{staticClass:"wrap-contact100"},[i("div",{staticClass:"contact100-form-title",style:{"background-image":"url("+a("33da")+")"}},[i("span",{staticClass:"contact100-form-title-1"},[t._v(" Contact Us ")]),i("span",{staticClass:"contact100-form-title-2"},[t._v(" Feel free to drop us a line below! ")])]),i("form",{ref:"form",staticClass:"contact100-form validate-form",attrs:{id:"uploadform",autocomplete:"off",enctype:"multipart/form-data"}},[i("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{"font-size":"initial",padding:"10px 16px"},attrs:{type:"button",onclick:"window.open('./definelocation', 'blank')"}},[t._v(" 使用 google map 進行定位 ")]),t._m(1),i("div",{staticClass:"wrap-input100 validate-input",attrs:{"data-validate":"事故時間 is required"}},[i("span",{staticClass:"label-input100"}),i("DateTimePickerInput"),i("span",{staticClass:"focus-input100"})],1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),i("RecipientDropdownMenu",{on:{"get-recipient":function(e){return t.getRecipient(e)}}}),i("div",{staticClass:"wrap-input100"},[i("span",{staticClass:"label-input100"}),i("input",{staticClass:"input100",attrs:{type:"text",id:"recipient",name:"recipient",placeholder:"收件人",readonly:""},domProps:{value:t.recipient}}),i("span",{staticClass:"focus-input100"})]),i("div",[t._v(" 累計檔案大小 : "),i("span",{style:t.sizeWarning,attrs:{id:"total_size_of_file"}},[t._v(t._s(t.size))])]),i("ul",{staticClass:"inputlist"},[t._l(t.fields,(function(e,a){return[i(e.input,{key:e.id,tag:"component",attrs:{id:e.id},on:{"add-size":t.addSize,"delete-element":function(e){return t.removeInput(a,e)}}})]}))],2),i("UploadFileBtn",{on:{"add-size":function(e){return t.addSize(e)},"delete-element":function(e){return t.minusSize(e)},"push-files":function(e){return t.pushFiles()},"remove-from-filelist":function(e){return t.removeFromFileList(e)}}}),t._m(8)],1)])]),t._m(9)])},p=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"msg",attrs:{id:"popupmsg"}},[i("div",{attrs:{id:"msgcontent"}},[i("h2",{staticStyle:{position:"absolute",left:"10px",width:"90%"}},[t._v(" 注意事項及操作步驟 / Notes and Manual: ")]),i("span",{staticStyle:{position:"absolute",display:"block",width:"40px",height:"40px",top:"10px",right:"10px",cursor:"pointer"},attrs:{id:"closebtn"}},[i("img",{attrs:{src:a("d991"),alt:""}})]),i("ul",{staticClass:"pointslist"},[i("li",[t._v(" 此系統僅供處理人員統整事故相關資料，您的資料將不會作為其他使用。 ")]),i("li",[t._v("上傳檔案只能為圖檔或是影片檔")]),i("li",[i("b",{staticStyle:{color:"red"}},[t._v("影片檔請注意大小不要超過 10 mb")])]),i("li",[t._v(" 點擊 "),i("img",{staticStyle:{width:"100px",height:"30px"},attrs:{src:a("894f"),alt:""}}),t._v(" 按鈕可增加您想上傳的檔案 ")]),i("li",[t._v(" 點擊預覽框右上角按鈕可刪除該檔案 ")]),i("li",[t._v(" 標記 "),i("img",{staticStyle:{width:"100px",height:"30px"},attrs:{src:a("976c")}}),t._v(" 的欄位為必填的項目")]),i("li",[t._v(" 點擊 "),i("img",{staticStyle:{width:"130px",height:"30px"},attrs:{src:a("66d9")}}),t._v(" 送出您的資訊 ")]),i("li",[t._v("事故地址可藉由 google map 進行定位")]),i("li",[i("b",{staticStyle:{color:"red"}},[t._v("全部檔案請注意大小不要超過 30 mb")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-input100 validate-input",attrs:{"data-validate":"事故地址 is required"}},[a("span",{staticClass:"label-input100"}),a("input",{staticClass:"input100 info required",attrs:{type:"text",id:"accident_address",name:"accident_address",placeholder:"請輸入事故地址"}}),a("span",{staticClass:"focus-input100"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-input100"},[a("span",{staticClass:"label-input100"}),a("input",{staticClass:"input100",attrs:{type:"text",id:"informer_name",name:"informer_name",placeholder:"請輸入通知人姓名"}}),a("span",{staticClass:"focus-input100"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-input100"},[a("span",{staticClass:"label-input100"}),a("input",{staticClass:"input100",attrs:{type:"text",id:"informer_phonenumber",name:"informer_phonenumber",placeholder:"請輸入通知人電話"}}),a("span",{staticClass:"focus-input100"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-input100 validate-input",attrs:{"data-validate":"駕駛人姓名 is required"}},[a("span",{staticClass:"label-input100"}),a("input",{staticClass:"input100 info required",attrs:{type:"text",id:"driver_name",name:"driver_name",placeholder:"請輸入駕駛人姓名"}}),a("span",{staticClass:"focus-input100"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-input100 validate-input",attrs:{"data-validate":"駕駛人電話 is required"}},[a("span",{staticClass:"label-input100"}),a("input",{staticClass:"input100 info required",attrs:{type:"text",id:"driver_phonenumber",name:"driver_phonenumber",placeholder:"請輸入駕駛人電話"}}),a("span",{staticClass:"focus-input100"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-input100 validate-input",attrs:{"data-validate":"車牌號碼 is required"}},[a("span",{staticClass:"label-input100"}),a("input",{staticClass:"input100 info required",attrs:{type:"text",id:"license_plate_number",name:"license_plate_number",placeholder:"請輸入車牌號碼"}}),a("span",{staticClass:"focus-input100"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-input100"},[a("span",{staticClass:"label-input100"}),a("input",{staticClass:"input100",attrs:{type:"text",id:"note",name:"note",placeholder:"備註"}}),a("span",{staticClass:"focus-input100"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-contact100-form-btn"},[a("button",{staticClass:"contact100-form-btn",attrs:{type:"submit"}},[a("span",[t._v(" Submit "),a("i",{staticClass:"fa fa-long-arrow-right m-l-7",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loadingpart"},[a("div",{staticClass:"ml-loader"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")]),a("p",{attrs:{id:"wait_msg"}},[t._v("請稍後，傳送完成速度視檔案大小而定...")])])}],m=(a("4160"),a("caad"),a("a434"),a("b0c0"),a("b680"),a("b64b"),a("ac1f"),a("2532"),a("466d"),a("1276"),a("498a"),a("159b"),a("b85c")),h=a("1157"),v=a.n(h),b=a("bc3a"),g=a.n(b),j=a("677b"),w=a.n(j),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("date-picker",{class:t.dateTimePickerClassOptions,attrs:{config:t.dateTimePickerConfig,id:"happened_date",name:"happened_date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])])},_=[],C=(a("f9e3"),a("133f")),k=a.n(C);a("ca56"),a("15f5");v.a.extend(!0,v.a.fn.datetimepicker.defaults,{icons:{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"fas fa-calendar-check",clear:"far fa-trash-alt",close:"far fa-times-circle"}});var A={name:"DateTimePickerInput",data:function(){return{date:new Date,dateTimePickerConfig:{format:"YYYY/MM/DD HH:mm:ss",useCurrent:!0},dateTimePickerClassOptions:{info:!0,required:!0}}},components:{datePicker:k.a}},S=A,z=Object(c["a"])(S,y,_,!1,null,null,null),x=z.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{attrs:{id:t.id}},[i("input",{staticClass:"info required",attrs:{id:t.inputId,type:"file",accept:"video/*, image/*",name:"filetoupload"},on:{change:function(e){return t.changeEvent(e)}}}),i("span",{staticClass:"deletebtn",on:{click:function(e){return t.deleteElement()}}},[i("img",{attrs:{src:a("677b"),alt:""}})]),i("img",{staticClass:"previewimg",style:t.previewStyle,attrs:{id:t.previewImgId,src:t.previewImg,alt:""}})])},F=[],E=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),{name:"NewInput",props:["id"],data:function(){return{inputId:"",previewImgId:"",previewStyle:{display:"none"},previewImg:null,currentFileSize:0}},created:function(){var t=Date.now();this.inputId="input_"+t,this.previewImgId="previewimg_"+t},methods:{changeEvent:function(t){var e=t.target.files[0];this.previewImg=URL.createObjectURL(e),this.previewStyle.display="block",this.$emit("add-size",e.size,this.currentFileSize),this.currentFileSize=e.size},deleteElement:function(){this.$emit("delete-element",this.currentFileSize)}}}),I=E,B=(a("b8e7"),Object(c["a"])(I,O,F,!1,null,"2476f732",null)),P=B.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{staticClass:"upload-demo",style:t.styleObject,attrs:{action:"",accept:"video/*, image/*",multiple:"","auto-upload":!1,"on-change":t.handleChange,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"list-type":"picture"}},[a("el-button",{attrs:{size:"medium",type:"primary"}},[t._v("點擊新增檔案")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" jpg/png files with a size less than 500kb ")])],1)},L=[],D={name:"UploadFileBtn",data:function(){return{fileList:[],styleObject:{width:"inherit"},totalFileSize:0}},watch:{totalFileSize:function(t,e){},fileList:function(){this.$emit("push-files")}},methods:{handleChange:function(t,e){var a=this;this.totalFileSize=0,e.forEach((function(t){a.totalFileSize+=t.size})),this.$emit("add-size",this.totalFileSize),this.fileList=e},handleRemove:function(t,e){this.$emit("delete-element",t.size),this.$emit("remove-from-filelist",t)},handlePreview:function(t){console.log(t)}}},M=D,N=Object(c["a"])(M,q,L,!1,null,null,null),T=N.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("el-button",{attrs:{type:"primary"}},[t._v(" 選擇收件人"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.recipients,(function(e,i){return a("el-dropdown-item",{key:i,attrs:{command:e}},[t._v(t._s(e)+" ")])})),1)],1)},$=[],W={name:"RecipientDropdownMenu",data:function(){return{recipients:["a@gmail.com","b@gmail.com","c@gmail.com","h410018@gmail.com"]}},methods:{handleCommand:function(t){this.$message("更換當前收件人: "+t),this.$emit("get-recipient",t)}}},Y=W,Z=Object(c["a"])(Y,U,$,!1,null,null,null),R=Z.exports,V={name:"Uploadpage",data:function(){return{image:w.a,fields:[],id:0,totalSize:null,sizeWarning:{color:""},check:null,fileList:[],recipient:null}},components:{DateTimePickerInput:x,NewInput:P,UploadFileBtn:T,RecipientDropdownMenu:R},beforeCreate:function(){var t=this;this.$loadScript("/js/jquery.min.js"),this.$loadScript("https://maps.googleapis.com/maps/api/js?key=AIzaSyAKFWBqlKAGCeS1rMVoaNlwyayu0e0YRes").then((function(){t.$loadScript("/js/map-custom.js")})),this.$store.dispatch("setDefaultAuthHeader")},mounted:function(){var t=document.getElementById("accident_address");window.addEventListener("storage",(function(){0!==Object.keys(window.localStorage).length&&("confirmedAddress"in window.localStorage&&void 0!==window.localStorage.confirmedAddress?(t.value=window.localStorage.getItem("confirmedAddress"),window.localStorage.removeItem("confirmedAddress")):document.getElementById("accident_address").value="")})),this.showPopup(),this.controlAlert()},computed:{size:function(){return this.formatBytes(this.totalSize)}},methods:{showPopup:function(){var t=document.cookie.split("; ");t.includes("isShowMsg=1")?(v()("#popupmsg").remove(),v()(".blockarea").css("display","none")):function(){v()(".blockarea").animate({opacity:1},{queue:!1,duration:800,complete:function(){v()("#popupmsg").animate({opacity:1,top:"-=20%"},{duration:2e3,complete:function(){v()("#closebtn").on("click",(function(){v()("#popupmsg").remove(),v()(".blockarea").css("display","none"),document.cookie="isShowMsg=1"}))}})}})}()},addSize:function(t){this.totalSize=t},minusSize:function(t){this.totalSize-=t},pushFiles:function(){var t,e=this,a=document.querySelectorAll("input"),i=Object(m["a"])(a);try{for(i.s();!(t=i.n()).done;){var n=t.value;null!==n.files&&n.files.forEach((function(t){e.fileList.push(t)}))}}catch(s){i.e(s)}finally{i.f()}},removeFromFileList:function(t){for(var e=0;e<this.fileList.length;e++)this.fileList[e].uid===t.uid&&this.fileList.splice(e,1)},formatBytes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return this.sizeWarning.color="","0 Bytes";var a=1024,i=e<0?0:e,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(t)/Math.log(a)),o=parseFloat((t/Math.pow(a,s)).toFixed(i));return this.sizeWarning.color=s>2||2===s&&o>=30?"red":"",o+" "+n[s]},postFormData:function(){v()(".blockarea").css({opacity:1,display:"block"}),v()(".loadingpart").css("display","block");var t,e=document.querySelectorAll("input"),a=new FormData,i=Object(m["a"])(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;null===n.files?a.append(n.name,n.value):this.fileList.forEach((function(t){a.append(t.name,t)}))}}catch(s){i.e(s)}finally{i.f()}g.a.get("https://ipinfo.io/json").then((function(t){a.append("sender_ip",t.data.ip),g.a.post("/api/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){v()(document.body).append(t.data),console.log("SUCCESS!!")})).catch((function(t){console.log("FAILURE!!",t)}))})).catch((function(t){console.log(t),console.log("form data is not sent")}))},controlAlert:function(){var t=this.check,e=this;v()(".input100").each((function(){v()(this).on("blur",(function(){""!==v()(this).val().trim()?v()(this).addClass("has-val"):v()(this).removeClass("has-val")}))}));var a=v()(".validate-input .input100");function i(t){if("email"===v()(t).attr("type")||"email"===v()(t).attr("name")){if(null==v()(t).val().trim().match(/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(\]?)$/))return!1}else if(""===v()(t).val().trim())return!1}function n(t){var e=v()(t).parent();v()(e).addClass("alert-validate")}function s(t){var e=v()(t).parent();v()(e).removeClass("alert-validate")}v()(".validate-form").on("submit",(function(){event.preventDefault(),t=!0;for(var s=0;s<a.length;s++)!1===i(a[s])&&(n(a[s]),t=!1);return!0===t&&e.postFormData(),t})),v()(".validate-form .input100").each((function(){v()(this).focus((function(){s(this)}))}))},getRecipient:function(t){this.recipient=t},callApi:function(){console.log(window.sessionStorage.getItem("token"))}}},H=V,G=(a("f7c0"),a("7704"),a("edb4"),a("b0fb"),Object(c["a"])(H,f,p,!1,null,"75d8a709",null)),Q=G.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mapwrapper"}},[a("gmap-map",{staticStyle:{width:"100%",height:"100%"},attrs:{center:t.pos,zoom:18,"map-type-id":"terrain"}},[a("gmap-info-window",{ref:"infoWindowRef",attrs:{options:t.infoOptions,position:t.pos,opened:t.infoWinOpen},on:{closeclick:function(e){return t.closeInfoWindow()}}},[a("div",{staticStyle:{color:"#000000"}},[a("h1",[t._v("您目前是在這個位置附近嗎？")]),t._v(" 如果此處不是您目前的位置，請按下"),a("b",{staticStyle:{color:"red"}},[t._v("否")]),t._v("返回表單頁手動輸入地址. "),a("p",[t._v("您目前的位置："),a("b",{staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(t.addr)+" ")])]),a("button",{on:{click:function(e){return t.mapEvent(t.addr)}}},[a("span",{staticStyle:{color:"green"}},[t._v("是 / Yes")])]),a("button",{attrs:{onclick:"window.close()"}},[a("span",{staticStyle:{color:"red"}},[t._v("否 / No")])])])]),a("gmap-marker",{attrs:{position:t.pos,clickable:!0,draggable:!1},on:{click:function(e){return t.toggleInfoWindow()}}})],1)],1)},K=[],J={name:"GoogleMap",data:function(){return{map:null,pos:{},infoOptions:{pixelOffset:{width:0,height:-45}},infoWinOpen:!0,addr:null}},mounted:function(){this.$nextTick((function(){this.getPosition()}))},methods:{getPosition:function(){window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(this.setPosition):alert("Your browser doesn't support geolocation.")},setPosition:function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude};this.pos=e,this.getAddress(e)},toggleInfoWindow:function(){this.infoWinOpen=!this.infoWinOpen},closeInfoWindow:function(){this.infoWinOpen=!1},mapEvent:function(t){localStorage.setItem("confirmedAddress",t),alert("已自動填入位置！"),window.close()},getAddress:function(t){var e=this;g()({method:"GET",url:"https://maps.googleapis.com/maps/api/geocode/json?latlng="+t.lat+", "+t.lng+"&key=&language=zh-TW"}).then((function(t){e.addr=t.data.results[0].formatted_address})).catch((function(t){console.log(t)}))}}},tt=J,et=(a("7843"),Object(c["a"])(tt,X,K,!1,null,null,null)),at=et.exports,it=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"clouds"}},[a("div",{staticClass:"cloud x1"}),a("div",{staticClass:"cloud x1_5"}),a("div",{staticClass:"cloud x2"}),a("div",{staticClass:"cloud x3"}),a("div",{staticClass:"cloud x4"}),a("div",{staticClass:"cloud x5"})]),a("div",{staticClass:"c"},[a("div",{staticClass:"_404"},[t._v("404")]),a("hr"),a("div",{staticClass:"_1"},[t._v("THE PAGE")]),a("div",{staticClass:"_2"},[t._v("WAS NOT FOUND")])])])}],st={name:"NotAvailable",beforeMount:function(){document.body.style.background="#33cc99",document.body.style.color="#ffffff",document.body.style.fontFamily="Open Sans, sans-serif"}},ot=st,rt=(a("dca5"),Object(c["a"])(ot,it,nt,!1,null,"7bc0147e",null)),ct=rt.exports;i["default"].use(u["a"]);var lt=[{path:"/uploadpage",name:"Uploadpage",component:Q},{path:"/definelocation",name:"GoogleMap",component:at},{path:"*",name:"NotAvailable",component:ct}],dt=new u["a"]({mode:"history",routes:lt}),ut=dt,ft=a("755e"),pt=a("2f62");i["default"].use(pt["a"]);var mt=new pt["a"].Store({state:{token:null},mutations:{setDefaultAuthHeader:function(t){g()({method:"get",url:"/api/setheader"}).then((function(e){window.sessionStorage.setItem("token",e.data.token),t.token=e.data.token,g.a.defaults.headers.common.Authorization=t.token})).catch((function(t){console.log(t)}))}},actions:{setDefaultAuthHeader:function(t){var e=t.commit;e("setDefaultAuthHeader")}}}),ht=mt,vt=a("67b0"),bt=a("5c96"),gt=a.n(bt);a("0fae");i["default"].config.productionTip=!1,i["default"].use(ft,{load:{key:"",libraries:""}}),i["default"].use(vt["a"]),i["default"].use(gt.a),new i["default"]({router:ut,store:ht,render:function(t){return t(d)}}).$mount("#app")},"66d9":function(t,e,a){t.exports=a.p+"img/submit.09b2f88f.png"},"677b":function(t,e,a){t.exports=a.p+"img/cancel.cfdbafe3.png"},"748c":function(t,e,a){},7704:function(t,e,a){"use strict";a("1d35")},7843:function(t,e,a){"use strict";a("bc78")},"85ec":function(t,e,a){},"894f":function(t,e,a){t.exports=a.p+"img/upload.893a30ea.png"},"976c":function(t,e,a){t.exports=a.p+"img/isRequired.e1273a31.png"},"9ef4":function(t,e,a){},b0fb:function(t,e,a){"use strict";a("dbc2")},b653:function(t,e,a){},b8e7:function(t,e,a){"use strict";a("748c")},bc78:function(t,e,a){},d991:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAewQAAHsEBw2lUUwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALLSURBVFiF1ZnPThRBEIe/6i5FPaiR6LpeCQTxYvzvDTHGJ8DIM/ggPgoafQBNALlp3JWTBtZE4gkEJYoHIbF728MMMjvOLjOjy+Av2WzSXTv1dU13VW+30CljsfcRmQIuA2cAS3/lgXWgSQjTHv8YaO90yq7dwJAR/1TgYp+BeirAQjvoJGwvw2/AgSEr/iVwukK2pD77oDdge1kAa0SbVUcurSiS7qq12CkReVA1UFoCdYMsWSP2ITBSNVCmRA6LFV0FzlbN0kUrYkUd/U8lZeUNBxcOwJqqCfZSWcANYLOA/SbwpYyjMoANH9ywD+68wNJexgItH9yYD24YaBT2ZkVD3o8RfQOcSvy8ZkTfdrNX0RZwLmF/woq+KuJTrGjIOZaNOApfU+11FZ0LMJpsFGi54G4Bqyn7k1b0Q2qgXVXkFStwJKN91QU3IdDKAQdwNH5WLhWJIALvY8crGd01FZ0DtJeNEZ0VuNAXwBhyyQU3QXZ06vF3Zl/WVPjngDFkr0hmqXDkdlQqDwYYUdEXdK7Qbqqp6FwZOCifqPNC1uLXOlbWT99LXRsKT6GkSgPmnIdr7eBuB3hX1k8pwIKL5K8gCwPGSXicbLg6u6kmqbV2cHfy1O60CgHGkeuWA2sqOqOi82QvnFUX3HjhSBYo3N+6OIYoCS8mNgmLZEcSoG5FN3NvUAqMxQE/usB1VIgAo3HZy4Lcip+VS0UAB43oLKntlorOZJWvGHKeP7dbz8i5k4Fype61D+4ucExFZ/eqrYnavWVFnwPXijgrVYuJtvyHgOM57b8DP4HBoo7KAu6b/ot/db5qiB7yhujw8KDqkwGaVVP0UMMQwnTVFF0VwiMBjBFtCFyqmielpg/uugHa0ZnwgZqL6z64SaAdp5ntZR/0ZoCFSrEiNaPzaT5Cxyk/EF1D3IuvIa4ANfbnGmINaMTXEE9IXEP8Ar/OKyxir0V9AAAAAElFTkSuQmCC"},dbc2:function(t,e,a){},dca5:function(t,e,a){"use strict";a("9ef4")},edb4:function(t,e,a){"use strict";a("0725")},f7c0:function(t,e,a){"use strict";a("b653")}});
//# sourceMappingURL=app.7d55d7e3.js.map